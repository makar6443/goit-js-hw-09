{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAUC,SAASC,cAAc,SAGjCC,GAFYF,SAASG,qBAAqB,SAC1BH,SAASG,qBAAqB,UAC9BH,SAASI,kBAAkB,UAC3CC,EAAeL,SAASI,kBAAkB,QAC1CE,EAAiBN,SAASI,kBAAkB,WAC3CG,UAAUC,MAAEC,EAAKC,KAAEC,EAAIC,OAAEC,IAAad,EAEvCe,EAAY,CAACC,EAAUC,KAC3BC,EAAApB,GAASqB,OAAOC,QAAQ,uBAAqBJ,QAAiBC,MAAU,EAGpEI,EAAW,CAACL,EAAUM,KAC1BJ,EAAApB,GAASqB,OAAOI,QAAQ,sBAAoBP,QAAeM,MAAU,EAGvE,SAASE,EAAcR,EAAUS,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACT,MAAMC,EAAgBC,KAAKC,SAAW,GAChCC,EAAM,C,SAAEjB,EAAUP,MAAAgB,GACpBK,EAEFH,EAAQM,GAGRL,EAAOK,EAAI,GAEZR,EAAM,G,CAiBb,SAASS,IAEW,KAAhBxB,EAAMyB,OAA+B,KAAfvB,EAAKuB,OAAgBrB,EAAOqB,K,CAftDnC,EAAQoC,iBAAiB,UAAUC,IACjCA,EAAMC,iBACN,IAAIC,EAAaC,OAAO9B,EAAMyB,OAC9B,MAAMM,EAAYD,OAAO5B,EAAKuB,OACxBO,EAAcF,OAAO1B,EAAOqB,OAClC,IAAK,IAAInB,EAAW,EAAGA,GAAY0B,EAAa1B,GAAY,EAC1DQ,EAAcR,EAAUuB,GACrBI,MAAKC,GAAO7B,EAAU6B,EAAI5B,SAAU4B,EAAInC,SACxCoC,OAAMC,GAASzB,EAASyB,EAAM9B,SAAU8B,EAAMrC,SACjD8B,GAAcE,C,IASlBtC,EAAc,GAAGiC,iBAAiB,SAAS,KACzCF,GAAiB,IAGnB5B,EAAa,GAAG8B,iBAAiB,SAAS,KACxCF,GAAiB,IAGnB3B,EAAe,GAAG6B,iBAAiB,SAAS,KAC1CF,GAAiB","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst formRef = document.querySelector('.form');\nconst labelsRef = document.getElementsByTagName('label');\nconst btnSubmitsRef = document.getElementsByTagName('button');\nconst inputDelayRef = document.getElementsByName('delay');\nconst inputStepRef = document.getElementsByName('step');\nconst inputAmountRef = document.getElementsByName('amount');\nconst {elements: { delay, step, amount },} = formRef;\n\nconst onSuccess = (position, delay) => {\n  Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n};\n\nconst onReject = (position, delay) => {\n  Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n};\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      const obj = { position, delay };\n      if (shouldResolve) {\n        // Fulfill\n        resolve(obj);\n      } else {\n        // Reject\n        reject(obj);\n      }\n    }, delay);\n  });\n}\n\nformRef.addEventListener('submit', event => {\n  event.preventDefault();\n  let delayValue = Number(delay.value);\n  const stepValue = Number(step.value);\n  const amountValue = Number(amount.value);\n  for (let position = 1; position <= amountValue; position += 1) {\n    createPromise(position, delayValue)\n      .then(res => onSuccess(res.position, res.delay))\n      .catch(error => onReject(error.position, error.delay));\n    delayValue += stepValue;\n  }\n});\n\nfunction verifyAllInputs() {\n  const someEmpty =\n    delay.value === '' || step.value === '' || amount.value === '';\n}\n\ninputDelayRef[0].addEventListener('input', () => {\n  verifyAllInputs();\n});\n\ninputStepRef[0].addEventListener('input', () => {\n  verifyAllInputs();\n});\n\ninputAmountRef[0].addEventListener('input', () => {\n  verifyAllInputs();\n});"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$formRef","document","querySelector","$47d4ff9957288465$var$inputDelayRef","getElementsByTagName","getElementsByName","$47d4ff9957288465$var$inputStepRef","$47d4ff9957288465$var$inputAmountRef","elements","delay","$47d4ff9957288465$var$delay","step","$47d4ff9957288465$var$step","amount","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$onSuccess","position","delay1","$parcel$interopDefault","Notify","success","$47d4ff9957288465$var$onReject","delay2","failure","$47d4ff9957288465$var$createPromise","delay3","Promise","resolve","reject","setTimeout","shouldResolve","Math","random","obj","$47d4ff9957288465$var$verifyAllInputs","value","addEventListener","event","preventDefault","delayValue","Number","stepValue","amountValue","then","res","catch","error"],"version":3,"file":"03-promises.e3abee9f.js.map"}